{"mappings":"ACwBA,MAAM,EAAO,SAAS,aAAa,CAAC,YAC9B,EAAW,SAAS,aAAa,CAAC,YAClC,EAAS,SAAS,aAAa,CAAC,aACtC,IAAI,EAAc,EAMlB,MAAM,EAAW,IAAI,qBAAqB,EAL1B,CACd,KAAM,KACN,WAAY,OACZ,UAAW,CACb,GAKA,SAAS,IAEL,EADA,GAAe,GAEV,IAAI,CAAC,AAAA,IACF,EAAK,kBAAkB,CAAC,YAAa,EAAa,EAAK,OAAO,GAE1D,EAAK,IAAI,GAAK,EAAK,WAAW,EAC9B,CAAA,EAAS,MAAM,CAAG,CAAA,CADtB,CAGR,GACC,KAAK,CAAC,AAAA,GAAO,QAAQ,GAAG,CAAC,GAC9B,CAEA,SAAS,EAAY,EAAK,CAAC,EACvB,OAAO,MAAM,2EAAkD,GAAM,EAAE,IAAI,CAAC,AAAA,IACxE,GAAI,CAAC,EAAK,EAAE,CACR,MAAM,AAAI,MAAM,EAAK,UAAU,EAEnC,OAAO,EAAK,IAAI,EACpB,EACJ,CAYA,SAAS,EAAa,CAAG,EACrB,OAAO,EAAI,GAAG,CAAC,CAAC,CAAA,YAAE,CAAW,CAAA,MAAE,CAAK,CAAE,IAKtC,GAAG,IAAI,CAAC,GACZ,CAEA,SAAS,EAAO,CAAO,CAAE,CAAQ,EAC7B,EAAQ,OAAO,CAAC,AAAA,IACR,EAAM,cAAc,EAEpB,EADA,GAAe,GAEd,IAAI,CAAC,AAAA,IACF,EAAK,kBAAkB,CAAC,YAAa,EAAa,EAAK,OAAO,GAC1D,EAAK,IAAI,GAAK,EAAK,WAAW,EAC9B,EAAS,SAAS,CAAC,EAE3B,GAEC,KAAK,CAAC,AAAA,GAAO,QAAQ,GAAG,CAAC,GAElC,EACJ,CA1DA,EAAS,gBAAgB,CAAC,QAAS,GAwBnC,IACA,KAAK,AAAA,IACD,EAAK,kBAAkB,CAAC,YAAa,EAAa,EAAK,OAAO,GAC9D,EAAS,OAAO,CAAC,GACb,EAAK,IAAI,GAAK,EAAK,WAAW,EAC9B,CAAA,EAAS,MAAM,CAAG,CAAA,CADtB,CAGJ,GACK,KAAK,CAAC,AAAA,GAAO,QAAQ,GAAG,CAAC","sources":["<anon>","src/js/risich-2.js"],"sourcesContent":["var $fd2850b86ff9c020$exports = {};\n// const BASE_URL = \"https://the-one-api/v2/\";\n// const END_POINT = \"character\";\n// const KEY = 'somebearerkey';\n// function getCharacter() {\n//     const param = new URLSearchParams({\n//         limit: 30,\n//         page: 1,\n//     });\n//     const option = {\n//         method: 'GET',\n//         headers: {\n//             Authorization: `Bearer ${KEY}`\n//         }\n//     }\n//     fetch(`${BASE_URL}${END_POINT}?${param}`, option)\n//         .then(resp => console.log(resp))\n// }\nconst $fd2850b86ff9c020$var$BASE_URL = \"https://api.themoviedb.org/3/\";\nconst $fd2850b86ff9c020$var$ENDPOINT = 'trending/movie/day';\nconst $fd2850b86ff9c020$var$API_KEY = 'someapikey';\nconst $fd2850b86ff9c020$var$URL_POSTERS = 'https://image.tmdb.org/t/p/w500';\nconst $fd2850b86ff9c020$var$list = document.querySelector('.js-list');\nconst $fd2850b86ff9c020$var$loadMore = document.querySelector('.js-load');\nconst $fd2850b86ff9c020$var$target = document.querySelector('.js-guard');\nlet $fd2850b86ff9c020$var$currentPage = 1;\nconst $fd2850b86ff9c020$var$options = {\n    root: null,\n    rootMargin: \"30px\",\n    threshold: 1.0\n};\nconst $fd2850b86ff9c020$var$observer = new IntersectionObserver($fd2850b86ff9c020$var$onLoad, $fd2850b86ff9c020$var$options);\n$fd2850b86ff9c020$var$loadMore.addEventListener('click', $fd2850b86ff9c020$var$onLoad);\nfunction $fd2850b86ff9c020$var$onLoad() {\n    $fd2850b86ff9c020$var$currentPage += 1;\n    $fd2850b86ff9c020$var$getTrending($fd2850b86ff9c020$var$currentPage).then((data)=>{\n        $fd2850b86ff9c020$var$list.insertAdjacentHTML('beforeend', $fd2850b86ff9c020$var$createMarkup(data.results));\n        if (data.page === data.total_pages) $fd2850b86ff9c020$var$loadMore.hidden = true;\n    }).catch((err)=>console.log(err));\n}\nfunction $fd2850b86ff9c020$var$getTrending(page = 1) {\n    return fetch(`${$fd2850b86ff9c020$var$BASE_URL}${$fd2850b86ff9c020$var$ENDPOINT}?api_key=${$fd2850b86ff9c020$var$API_KEY}&page=${page}`).then((resp)=>{\n        if (!resp.ok) throw new Error(resp.statusText);\n        return resp.json();\n    });\n}\n$fd2850b86ff9c020$var$getTrending();\nthen((data)=>{\n    $fd2850b86ff9c020$var$list.insertAdjacentHTML('beforeend', $fd2850b86ff9c020$var$createMarkup(data.results));\n    $fd2850b86ff9c020$var$observer.observe($fd2850b86ff9c020$var$target);\n    if (data.page !== data.total_pages) $fd2850b86ff9c020$var$loadMore.hidden = false;\n}).catch((err)=>console.log(err));\nfunction $fd2850b86ff9c020$var$createMarkup(arr) {\n    return arr.map(({ poster_path: poster_path, title: title })=>{}).join('');\n}\nfunction $fd2850b86ff9c020$var$onLoad(entries, observer) {\n    entries.forEach((entry)=>{\n        if (entry.isIntersecting) {\n            $fd2850b86ff9c020$var$currentPage += 1;\n            $fd2850b86ff9c020$var$getTrending($fd2850b86ff9c020$var$currentPage).then((data)=>{\n                $fd2850b86ff9c020$var$list.insertAdjacentHTML('beforeend', $fd2850b86ff9c020$var$createMarkup(data.results));\n                if (data.page === data.total_pages) observer.unobserve($fd2850b86ff9c020$var$target);\n            }).catch((err)=>console.log(err));\n        }\n    });\n}\n\n\n//# sourceMappingURL=risich-2.36e85c67.js.map\n","// const BASE_URL = \"https://the-one-api/v2/\";\n// const END_POINT = \"character\";\n// const KEY = 'somebearerkey';\n\n// function getCharacter() {\n//     const param = new URLSearchParams({\n//         limit: 30,\n//         page: 1,\n//     });\n//     const option = {\n//         method: 'GET',\n//         headers: {\n//             Authorization: `Bearer ${KEY}`\n//         }\n//     }\n\n//     fetch(`${BASE_URL}${END_POINT}?${param}`, option)\n//         .then(resp => console.log(resp))\n// }\n\nconst BASE_URL = \"https://api.themoviedb.org/3/\";\nconst ENDPOINT = 'trending/movie/day';\nconst API_KEY = 'someapikey';\nconst URL_POSTERS = 'https://image.tmdb.org/t/p/w500'\nconst list = document.querySelector('.js-list');\nconst loadMore = document.querySelector('.js-load');\nconst target = document.querySelector('.js-guard');\nlet currentPage = 1;\nconst options = {\n  root: null,\n  rootMargin: \"30px\",\n  threshold: 1.0,\n};\nconst observer = new IntersectionObserver(onLoad, options);\n\nloadMore.addEventListener('click', onLoad);\n\nfunction onLoad() {\n    currentPage += 1;\n    getTrending(currentPage)\n        .then(data => {\n            list.insertAdjacentHTML('beforeend', createMarkup(data.results));\n            \n            if (data.page === data.total_pages) {\n                loadMore.hidden = true;\n            }\n    })\n    .catch(err => console.log(err));\n};\n\nfunction getTrending(page=1) {\n    return fetch(`${BASE_URL}${ENDPOINT}?api_key=${API_KEY}&page=${page}`).then(resp => {\n        if (!resp.ok) {\n            throw new Error(resp.statusText);\n        }\n        return resp.json();\n    });\n};\n\ngetTrending()\nthen(data => {\n    list.insertAdjacentHTML('beforeend', createMarkup(data.results));\n    observer.observe(target);\n    if (data.page !== data.total_pages) {\n        loadMore.hidden = false;\n    }\n})\n    .catch(err => console.log(err));\n\nfunction createMarkup(arr) {\n    return arr.map(({ poster_path, title }) => {\n        `<li>\n            <img src=\"${URL_POSTERS}${poster_path}\" alt=\"${title}\">\n            <h2>${title}</h2>\n        </li>`\n    }).join('')\n};\n\nfunction onLoad(entries, observer) {\n    entries.forEach(entry => {\n        if (entry.isIntersecting) {\n            currentPage += 1;\n            getTrending(currentPage)\n            .then(data => {\n                list.insertAdjacentHTML('beforeend', createMarkup(data.results));\n                if (data.page === data.total_pages) {\n                    observer.unobserve(target)\n                }\n            }\n    )\n            .catch(err => console.log(err));\n        }\n    });\n}\n\n"],"names":["$fd2850b86ff9c020$var$list","document","querySelector","$fd2850b86ff9c020$var$loadMore","$fd2850b86ff9c020$var$target","$fd2850b86ff9c020$var$currentPage","$fd2850b86ff9c020$var$observer","IntersectionObserver","$fd2850b86ff9c020$var$onLoad","root","rootMargin","threshold","$fd2850b86ff9c020$var$getTrending","then","data","insertAdjacentHTML","$fd2850b86ff9c020$var$createMarkup","results","page","total_pages","hidden","catch","err","console","log","fetch","resp","ok","Error","statusText","json","arr","map","poster_path","title","join","entries","observer","forEach","entry","isIntersecting","unobserve","addEventListener","observe"],"version":3,"file":"risich-2.36e85c67.js.map"}