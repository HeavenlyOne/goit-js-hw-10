const e=document.querySelector(".js-list"),t=document.querySelector(".js-load"),n=document.querySelector(".js-guard");let o=1;const r=new IntersectionObserver(s,{root:null,rootMargin:"30px",threshold:1});function s(){c(o+=1).then(n=>{e.insertAdjacentHTML("beforeend",a(n.results)),n.page===n.total_pages&&(t.hidden=!0)}).catch(e=>console.log(e))}function c(e=1){return fetch(`https://api.themoviedb.org/3/trending/movie/day?api_key=someapikey&page=${e}`).then(e=>{if(!e.ok)throw Error(e.statusText);return e.json()})}function a(e){return e.map(({poster_path:e,title:t})=>{}).join("")}function s(t,r){t.forEach(t=>{t.isIntersecting&&c(o+=1).then(t=>{e.insertAdjacentHTML("beforeend",a(t.results)),t.page===t.total_pages&&r.unobserve(n)}).catch(e=>console.log(e))})}t.addEventListener("click",s),c(),then(o=>{e.insertAdjacentHTML("beforeend",a(o.results)),r.observe(n),o.page!==o.total_pages&&(t.hidden=!1)}).catch(e=>console.log(e));
//# sourceMappingURL=risich-2.36e85c67.js.map
