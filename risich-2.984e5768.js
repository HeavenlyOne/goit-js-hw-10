!function(){var e=document.querySelector(".js-list"),t=document.querySelector(".js-load"),n=document.querySelector(".js-guard"),o=1,r=new IntersectionObserver(c,{root:null,rootMargin:"30px",threshold:1});function c(){i(o+=1).then(function(n){e.insertAdjacentHTML("beforeend",a(n.results)),n.page===n.total_pages&&(t.hidden=!0)}).catch(function(e){return console.log(e)})}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return fetch("".concat("https://api.themoviedb.org/3/").concat("trending/movie/day","?api_key=").concat("someapikey","&page=").concat(e)).then(function(e){if(!e.ok)throw Error(e.statusText);return e.json()})}function a(e){return e.map(function(e){e.poster_path,e.title}).join("")}function c(t,r){t.forEach(function(t){t.isIntersecting&&i(o+=1).then(function(t){e.insertAdjacentHTML("beforeend",a(t.results)),t.page===t.total_pages&&r.unobserve(n)}).catch(function(e){return console.log(e)})})}t.addEventListener("click",c),i(),then(function(o){e.insertAdjacentHTML("beforeend",a(o.results)),r.observe(n),o.page!==o.total_pages&&(t.hidden=!1)}).catch(function(e){return console.log(e)})}();
//# sourceMappingURL=risich-2.984e5768.js.map
